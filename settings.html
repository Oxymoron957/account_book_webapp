<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ì œì´ì¿¼ë¦¬</title>
    <link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css"/>
    <script  src="js/jquery.min.js"></script>
    <script  src="js/jquery.mobile-1.4.5.min.js"></script>
    <link rel="stylesheet" href="./css/menu.css"/>
    <link rel="stylesheet" href="./css/setting.css"/>
    <script type="text/javascript" src="./js/paymentDB.js"></script>
    <script type="text/javascript" src="./js/auto_transaction.js"></script>
    <script type="text/javascript" src="./js/category.js"></script>
    <script type="text/javascript" src="./js/security_check.js"></script>
    <script type="text/javascript" src="./js/graphDB.js"></script>
    <script src="./js/menu.js"></script>
    
      <style>
        * { margin: 0px ; padding: 0px ; font-family:'Nanum';}
      </style>
      <script>
          $(document).ready( function() {
            // ë©”ë‰´ ìˆ¨ê¹€
            $('.menu_2' ).hide();
            
            openDB();
            //   openDB_payment(); // ì…ì¶œê¸ˆ ì •ë³´ DB ìƒì„±
            //   openDB_category(); // ì¹´í…Œê³ ë¦¬ DB ìƒì„± 
            //   openDB_auto_transaction() // ìë™ì…ì¶œê¸ˆ DB ìƒì„±

            createTableCat(); //ì¹´í…Œê³ ë¦¬ í…Œì´ë¸” ìƒì„±
                createTableAuto(); //ìë™ì…ì¶œê¸ˆ í…Œì´ë¸” ìƒì„±
                createCatList(); //ìë™ì…ì¶œê¸ˆ í…Œì´ë¸”ì—ì„œ ë¶ˆëŸ¬ì™€ select ì„ íƒì§€ ì¶”ê°€í•´ì¤Œ
                createAutoList(); //ìë™ì…ì¶œê¸ˆ í…Œì´ë¸”ì—ì„œ ë¶ˆëŸ¬ì™€ ìë™ì…ì¶œê¸ˆ ê´€ë¦¬ í˜ì´ì§€ì— ì¹´ë“œë¥¼ ì¶”ê°€í•´ì¤Œ
                insertAutoToDB(); //ìë™ì…ì¶œê¸ˆ í•­ëª©ì˜ í•´ë‹¹í•˜ëŠ” ë‚ ì§œê°€ ë˜ë©´ ì•Œì•„ì„œ ìë™ì…ì¶œê¸ˆ í…Œì´ë¸”ì— ì¶”ê°€í•´ì¤Œ
                createCatIcon(); //ì¹´í…Œê³ ë¦¬ í…Œì´ë¸”ì—ì„œ ë¶ˆëŸ¬ì™€ ë™ê·¸ë¼ë¯¸ ìƒì„±í•´ì¤Œ
                createTable();
                updateAuto();

              $('#saveAuto').click(function(){
                  addAutoMoney();
                  createAutoList();
                  
                });

              $('#saveCat').click(function(){
                addCategory();
                createCatIcon();
              });

              $('#deleteButton').click(function(){
                catDeleteAction();
                if($(this).html()=='ì¹´í…Œê³ ë¦¬ ì‚­ì œ'){
                  $(this).html('ì™„ ë£Œ');
                }
                else{
                  $(this).html('ì¹´í…Œê³ ë¦¬ ì‚­ì œ');
                }
              });

              $(document).on("click","#autoDel",function(){
                id_val = $(this).attr("value");
                console.log("ì‚­ì œí•  ê²ƒì˜ ì•„ì´ë””ëŠ” "+id_val);
                deleteAuto(id_val);
                createAutoList();
              });

              $(document).on("click","#deleteThisCat",function(){
                id_val = $(this).attr("value");
                console.log("ì‚­ì œí•  ê²ƒì˜ ì•„ì´ë””ëŠ” "+id_val);
                deleteCatIcon(id_val);
                deleteOn();     
              });
        });
      </script>
  </head>  



    <!--##################ë©”ì¸ í™”ë©´######################-->
  <body>
    <div data-role="page" id="main" style="background-color: #e7f4fd;">
      <div data-role="header" data-postion="fixed" style="text-align : center; background-color:#e7f4fd;">
        <h1 style="font-size:28px; ">ì„¤ ì •</h1>
        <a href="" id="menu_button" class="ui-btn" style="margin-top: 0.1em; margin-left: 0.1em;background-color: #e7f4fd; border:0; outline: 0;" onclick="ShowMenu()">
          <img src="img/menu.png" alt="menu" style="width: 20px; margin-top: 16px;">
        </a>
        </div>
      <!--ì„¤ì • ë¦¬ìŠ¤íŠ¸-->
      <ul class="mylist" data-inset="true" style="background-color: #e7f4fd;">
        <li class="sub"><a class="btn" style="margin-left:1px; color:rgb(0, 0, 0);" href="#budget" data-transition="slide">ğŸ’°ì˜ˆì‚° ì„¤ì •</a></li>
        <li class="sub"><a class="btn" style="color: rgb(0, 0, 0);"href="#auto" data-transition="slide">ğŸ’¸ìë™ ì…/ì¶œê¸ˆ ê´€ë¦¬</a></li>
        <li class="sub"><a class="btn" style="color: rgb(0, 0, 0);"href="#category" data-transition="slide">ğŸ“Œì¹´í…Œê³ ë¦¬ ê´€ë¦¬</a></li>
        <li class="sub"><a class="btn" style="color: rgb(0, 0, 0);"href="#password" data-transition="slide">ğŸ”’ì•”í˜¸ ì„¤ì •</a></li>
      </ul>    

      
      <!-- ë©”ë‰´ í˜ì´ì§€ -->
      <div class="menu_bg" style="width: 10em;">
        <div class="menu" style="padding-top: 4em;">
                  <div style="width: 85%; text-align: right;font-size: 1em; font-weight: bold;" onclick="HideMenu()">ë‹«ê¸°</div>
                  <div>
                      <div class='menu_button' onclick="location.href='main.html';">â—¼ Home</div>
                      <div class='menu_button' onclick="location.href='graph.html';">â—¼ ì›”ë³„ í†µê³„</div>
                      <div class='menu_button' onclick="location.href='graph_2.html';">â—¼ ì¹´í…Œê³ ë¦¬ë³„ í†µê³„</div>
                      <div class='menu_button' onclick="location.href='settings.html';">â—¼ ì„¤ì •</div>    
                  </div>
          </div>
          <div class="menu_bg" style="width: 12.5em; margin-left: 10em; color:transparent" onclick="HideMenu()">
          </div>
      </div>
    </div>


      <!--##################ì˜ˆì‚° ì„¤ì •######################-->
    <div data-role="page" id="budget" style="background-color:#e7f4fd">
      <a href="#main" data-transition="flip"><img src="/img/back.png" style="width: 30px; margin: 10px;"></a> 
      <p style="margin-left:20px; margin-top: 110px;font-size:35px; color: #494949;"><b>ë‹¹ì‹ ì˜ ì˜ˆì‚°ì€...</b></p>
      <!--ì˜ˆì‚°ì— ëŒ€í•œ ì •ë³´ë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤.(ì–¼ë§ˆì¸ì§€ë§Œ)-->
      <div data-role="content">
        <fieldset>
          <table>
            <tr>
              <td><label for="budgetInput"style=" margin-left:10px;margin-right:10px;font-size:26px; ">ì›” </label></td>
              <td><input class="budgetV" type="integer" name="budgetInput" style=" margin-right:10px;width:150px;"id="budgetInput" placeholder="ğŸ’°ì˜ˆì‚° ì…ë ¥"></td>
              <td><label for="budgetInput"style="font-size:26px;"> ì›</label></td>

              <!--ì €ì¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ updateBudget()ì´ ë°œë™ì´ ë˜ì–´ ìë™ì…ì¶œê¸ˆ í…Œì´ë¸”ì— ì•Œì•„ì„œ ì´ë²ˆ ë‹¬ 1ì¼ ë‚ ì§œë¡œ ì˜ˆì‚° í•­ëª©ìœ¼ë¡œ ì¶”ê°€ê°€ ëœë‹¤.-->
              <td><a href="#main" style="margin-left : 20px;margin-bottom:20px;padding:8px;  background-color: rgb(255, 255, 255); border-color:#e7f4fd;"  data-role="button" id="saveBu" data-inline="true" onclick="updateBudget();">S A V E</a></td>
            </tr>
          </table>
        </fieldset>
      </div>
      
   </div>


     <!--##################ìë™ ì…/ì¶œê¸ˆ ê´€ë¦¬######################-->

   <!--ìë™ ì…ì¶œê¸ˆ ê´€ë¦¬ ë©”ì¸ í™ˆ í˜ì´ì§€. ì—¬ê¸°ì— ìë™ ì…ì¶œê¸ˆ ì¹´ë“œê°€ ëœ¬ë‹¤(createListAuto)-->
  <div data-role="page" id="auto" style="background-color:#e7f4fd;">
    <div data-role="header"data-position="fixed" style="border-bottom:3px solid black; background-color: #e7f4fd; text-align: center;">
      <a href="#main" data-role="button" data-transition="flip" onClick="top.location='javascript:location.reload()'" data-icon="back" data-iconpos="notext" style="margin-top: 10px;"></a>
      <h1 style="font-size:23px; width:180px; margin-left: 90px;">ìë™ ì…/ì¶œê¸ˆ ê´€ë¦¬</h1>
      <a href="#addAuto" data-role="button" data-transition="slidedown" data-icon="plus" data-iconpos="notext" style="margin-top: 10px;"></a>
    </div>
    <div data-role="content">
      <lu data-role="listview" id="autoShowList">
      </lu>
    
    </div>
  </div>


  <!--ìë™ ì…ì¶œê¸ˆ í•­ëª© ì¶”ê°€ í˜ì´ì§€-->
  <div data-role="dialog" id="addAuto">
    <div data-role="header">
      <h1>ìë™ ì…/ì¶œê¸ˆ</h1>
      <a href="#auto" data-role="button" data-transition="slidedown" data-icon="delete" data-iconpos="notext" syle="argin-top:10px;"></a>
    </div>
      <!--ì¶”ê°€í•˜ëŠ” í•­ëª©ì— ëŒ€í•œ ì •ë³´ë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤-->
      <div data-role="content">
        </div>
        <fieldset>
          <table>
            <tr>
              <td>          
                <select name="select" id="select" data-inline="true">
                  <option value="deposit">ì…ê¸ˆ</option>
                  <option value="withdraw">ì¶œê¸ˆ</option>
                </select>
              </td>
              <td>           
                <select name="select2" id="select2" data-inline="true">
                  <option value="0">ì„ íƒ</option>
                </select>
              </td>
              <td>
                <h4>ë§¤ ì›” </h4>
              </td>
              <td>
                <input type="number" name="dateAuto" id="dateAuto" min="1" max="31" placeholder="ë‚ ì§œ"></input>
              </td>
              <td>
              <h4>ì¼</h4>
              </td>

            </tr>
          </table>
          <table>
            <tr>
              <td style="width:140px"><input type="text" name="nameAuto" id="nameAuto" style="font-size:22x;" placeholder="ìƒì„¸ ë‚´ìš©"></input></td>
              <td style="font-size:25px;">ìœ¼ë¡œ</td>
              <td style="width:100px"><input type="number" name="inputAuto" id="inputAuto" style="font-size:22x;" placeholder="ê¸ˆì•¡ ì…ë ¥"></input></td>
              <td><label for="inputAuto"style="font-size:25px;">ì›</label></td>
            </tr>
          </table>
        </fieldset>


        <!--ì €ì¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ addAutoMoney ë°œë™ìœ¼ë¡œ ìë™ ì…ì¶œê¸ˆ í…Œì´ë¸”ì— ì—…ë¡œë“œëœë‹¤-->
        <a href="#auto" data-role="button" id="saveAuto" data-transition="slideup">ì €ì¥</a>
      </div>
    </div>
  </div>


    <!--##################ì¹´í…Œê³ ë¦¬ ê´€ë¦¬######################-->


  <!--ì¹´í…Œê³ ë¦¬ ë©”ì¸ í™ˆ í˜ì´ì§€-->
  <!--ì´ í˜ì´ì§€ì— createIconList(ë™ê·¸ë¼ë¯¸)ê°€ ëœ¨ë„ë¡ í•¨-->
  <div data-role="page" id="category">
    <div data-role="header"data-position="fixed" style="border-bottom:3px solid black; background-color: #e7f4fd; text-align: center;">
      <a href="#main" data-role="button" data-transition="flip" onClick="top.location='javascript:location.reload()'" data-icon="back" data-iconpos="notext" style="margin-top: 10px;"></a>
      <h1 style="font-size:23px; width:180px; margin-left: 90px;">ì¹´í…Œê³ ë¦¬ ê´€ë¦¬</h1>
      <a href="#addCat" data-role="button" data-transition="slidedown" data-icon="plus" data-iconpos="notext" style="margin-top: 10px;"></a>
    </div>
    <div data-role="content" id="catIcons">
      </div>
      <!--ì¹´í…Œê³ ë¦¬ ì‚­ì œ-->
      <div data-role="footer" id="deleteFooter" data-position="fixed">
      <div data-role="button" id="deleteButton" style="height:50px; font-size:19px; text-align: center; line-height:50px;border-top: 3px solid;">ì¹´í…Œê³ ë¦¬ ì‚­ì œ</div>
    </div>
  </div>

  <!--ì¹´í…Œê³ ë¦¬ ì¶”ê°€ ì¥-->
  <div data-role="dialog" id="addCat">
    <div data-role="header">
      <h1>ì¹´í…Œê³ ë¦¬ ì¶”ê°€</h1>
    </div>
    <div data-role="content">
      
      <!--ì¶”ê°€í•˜ëŠ” ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ì •ë³´ë¥¼ ì…ë ¥ë°›ìŒ-->
      <fieldset>
        <table>
          <tr>
            <td><label for="catName"style="font-size:19px;">ì¹´í…Œê³ ë¦¬ : </label></td>
            <td><input type="text" name="catName" id="catName"style="width:150px;" placeholder="ì´ë¦„"></td>
            <td><input type="color" name="catColor" style="width:40px;"id="catColor"></td>
          </tr>
        </table>
      </fieldset>
      <!--ì €ì¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ addCategoryí•¨ìˆ˜ ë°œë™í•´ì„œ ì¹´í…Œê³ ë¦¬ í…Œì´ë¸”ì— ì¶”ê°€-->
      <a href="#category" data-role="button" id="saveCat" data-transition="slideup" >ì €ì¥</a>
    </div>
  </div>





  <!--##################ì•”í˜¸ì„¤ì •######################-->

  <!--ë¹„ë²ˆ ì²´í¬í•˜ëŠ” í˜ì´ì§€-->
  <div data-role="page" id="password" style="background-color:#e7f4fd" >
    <form method=post name=number>
      <p style="text-align: center; margin-top:70px;font-size:25px;"><b>ğŸ”’ ê¸°ì¡´ ì•”í˜¸ ì…ë ¥ ğŸ”’</b></p>
      <table>
        
        <tr>
          <div style="text-align:center;">
          <td style="width:50px; height:50px; font-size:30px; padding-left:20px;padding-right:10px;"><input maxLength=1 id="number1" name=number1 onkeyup='check_Pass()' autofocus></td>
          <td style="width:50px; height:50px; font-size:30px; padding-left:20px;padding-right:10px;"><input maxLength=1 id="number2" name=number2 onkeyup='check_Pass()'></td>
          <td style="width:50px; height:50px; font-size:30px; padding-left:20px;padding-right:10px;"><input maxLength=1 id="number3" name=number3 onkeyup='check_Pass()'></td>
          <td style="width:50px; height:50px; font-size:30px; padding-left:20px;padding-right:10px;"><input maxLength=1 id="number4" name=number4 onkeyup='check_Pass()'></td>
        </div>
        </tr>
        
      </table>
      </form>
    </div>
    <!--ë¹„ë²ˆ ë³€ê²½í•˜ëŠ” í˜ì´ì§€-->
    <div data-role="page" id="password2" style="background-color:#dddddd;">
      <form method=post name=number2>
      <p style="text-align: center; margin-top:70px;font-size:25px;"><b>ğŸ’« ìƒˆ ì•”í˜¸ ì…ë ¥ ğŸ’«</b></p>
        <table>
          <tr>
            <td style="width:50px; height:50px; font-size:30px; padding-left:20px;padding-right:10px;"><input maxLength=1 id="number5" name=number5 onkeyup='change_Pass()' autofocus></td>
            <td style="width:50px; height:50px; font-size:30px; padding-left:20px;padding-right:10px;"><input maxLength=1 id="number6" name=number6 onkeyup='change_Pass()'></td>
            <td style="width:50px; height:50px; font-size:30px; padding-left:20px;padding-right:10px;"><input maxLength=1 id="number7" name=number7 onkeyup='change_Pass()'></td>
            <td style="width:50px; height:50px; font-size:30px; padding-left:20px;padding-right:10px;"><input maxLength=1 id="number8" name=number8 onkeyup='change_Pass()'></td>
          </tr>
        </table>
      </form>
    </div>



  <!--#################ì´ˆê¸°í™”######################-->


