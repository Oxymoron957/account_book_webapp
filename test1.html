<!DOCTYPE html>
<html lang="en" >
<head>
<meta charset="UTF-8">
<title>통계</title>

    <link rel="stylesheet" type="text/css" href="css/graphOption.css">
    <link rel="stylesheet" type="text/css" href="css/graphList.css">
    <link rel="stylesheet" type="text/css" href="css/card.css">
    <link rel="stylesheet" type="text/css" href="css/test1.css">
    <!-- <script type="text/javascript" src="js/dbHandleTest.js"></script> -->
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css"/>

<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>


<script>
  $( document ).ready( function() {
      openDB();
      
    $( '#M' ).click( function() {
      $( '#menu' ).slideToggle();
    });
      var category = 'all';
      
      // readCategoryPaymentAmountSum_All(category);
      // readCategoryPayment(category);
      createCatIcon(); //카테고리 테이블에서 불러와 동그라미 생성해줌
  });

  function createCatIcon(){
          db.transaction(function(tr){
            var selectSQL='select * from category';
            tr.executeSql(selectSQL,[],function(tr,rs){
              //dot-wrap : 동그라미들을 예쁘게 나열하려고 설정 동그라미들을 감싸주는 역할
              $('<div class="dot-wrap" id="dot-wrap">').appendTo('#catIcons');
                var target=document.getElementById('#dot-wrap');
                $(target).css({
                  "width":"360px",
                  "margin":0});

              //정보 하나씩 불러옴
              for(var i=0;i<rs.rows.length;i++)
              {
                var catName=rs.rows.item(i).name;
                var catColor=rs.rows.item(i).color;
                //span 하나씩 추가
                $('<span style="border:3px solid black; background-color:'+catColor+' "><p style="font-size:13px; margin-top:-15px;">'+catName+'</p></span>').appendTo('#catIcons');
                var target2=document.getElementsByTagName('span');
                //현재 span의 css스타일 설정해줌
                $(target2).css({        
                  "width":"60px",
                  "height":"60px",
                  "margin-right":"3px",
                  "margin-left":"3px",
                  "align-items": "center",
                  "border-radius":"50%",
                  "font-weight":"bold",
                  "text-align":"center",
                  "line-height":"200px",
                  "float":"left",
                  "margin-top": "50px",
                  "margin-left":"20px",
                  "margin-right":"20px",
                  "margin-bottom":"30px"});
                }
                //catIcons라는 카테고리 페이지의 content부분에 넣음
                $('</div>').appendTo('#catIcons');
            });
          });
        }
</script>

</head>
<body >
    <div id="menuToggle">
      <input type="checkbox" id="M"/>
  
      <span></span>
      <span></span>
      <span></span>
  
      <ul id="menu">
        <a href="#"><li>Home</li></a> 
        <a href="#"><li>About</li></a>
        <a href="#"><li>Info</li></a>
        <a href="#"><li>Contact</li></a>
      </ul>
  </div>
  
<div data-role="page" id="main" style="background-image: radial-gradient(circle 248px at center, #e7f4fd 0%, #e7f4fd 47%, #e7f4fd 100%)">
  
  <div class="inform">
    <div class="month">
      <!-- <select class="monthselect" name="graphMonth" id="graphMonth">
        <option class="monthoption" value="1">2021년01월</option>
        <option class="monthoption" value="2">2021년02월</option>
        <option class="monthoption" value="3">2021년03월</option>
        <option class="monthoption" value="4">2021년04월</option>
        <option class="monthoption" value="5">2021년05월</option>
        <option class="monthoption" value="6">2021년06월</option>
      </select> -->
    </div>
    <div class="graphicalbutton">
      <div class="brokenline">그래프
      </div>
      <div class="circular" name="circular1" id="circular1"><a href="" class="logofont">원형</a>
      </div>
    </div>
  
    <div class="detailed">
      <a href="#category" data-transition="slide">category</a> 
      <div class="graphical" id="graphical">
        <div class="graph">
            <div class="row my-2">
              <div class="col"> 
                  <div class="card">
                      <div class="card-body">
                          <canvas id="myChart" style="height:1100px; width:750px">></canvas>
                      </div>
                  </div> 
              </div> 
          </div>
      </div>
      <div id='detail'></div>
    </div>
    
    
  
  </div> 
</div>

</div> 
<div data-role="page" id="category">
  <div data-role="header"data-position="fixed">
    <a href="#main" data-role="button" data-icon="back"  data-iconpos="notext" style="margin-top: 10px;"></a>
    <a href="#addCat" data-role="button" data-transition="slidedown" data-icon="plus" data-iconpos="notext" style="margin-top: 10px;"></a>
    <h1 style="font-size:19px">카테고리 관리</h1>
  </div>
  <div data-role="content" id="catIcons">
    </div>
  </div>

</body>
</html>